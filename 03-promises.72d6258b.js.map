{"mappings":"YAAA,IAAMA,EAAOC,SAASC,cAAc,QAEpCF,EAAKG,iBAAiB,UAEtB,SAAqBC,GACnBA,EAAIC,iBAEJ,IAEcC,EAAVF,EAAIG,OADNC,SAAYC,EAAKH,EAALG,MAAOC,EAAIJ,EAAJI,KAAMC,EAAML,EAANK,OAE3BC,QAAQC,IAAIJ,EAAMK,MAAOJ,EAAKI,MAAOH,EAAOG,OAM9C,SAAuBC,EAAUN,GAC/B,OAAO,IAAIO,SAAQ,SAACC,EAASC,GAC3BT,EAAQT,EAAKQ,SAASC,MAAMK,MAC5B,IAAIJ,EAAOV,EAAKQ,SAASE,KAAKI,MAC1BH,EAASX,EAAKQ,SAASG,OAAOG,MAClCC,EAAW,EAGX,IAFA,IAAII,EAASV,EAAQC,EAEdK,EAAWJ,GAAQ,CACxB,IAAMS,EAAgBC,KAAKC,SAAW,GACtCb,EAAQc,OAAOd,GACfC,EAAOa,OAAOb,GACdK,EAAWQ,OAAOR,GAElBS,YAAW,WACLJ,EACFH,EAAQ,uBAAwCQ,OAAfV,EAAS,QAAaU,OAAPN,EAAO,OAErDD,EAAK,sBAAuCO,OAAfV,EAAS,QAAaU,OAAPN,EAAO,M,GAEtDA,GAEHJ,GAAY,EACZI,GAAUT,EACVE,QAAQC,IAAIM,E,KA7BhBO,GACGC,MAAK,SAAAC,G,OAAUhB,QAAQC,IAAIe,E,IAC3BC,OAAM,SAAAC,G,OAASlB,QAAQC,IAAIiB,E","sources":["src/js/03-promises.js"],"sourcesContent":["const form = document.querySelector('form');\n\nform.addEventListener('submit', handleInput);\n\nfunction handleInput(evt) {\n  evt.preventDefault();\n\n  const {\n    elements: { delay, step, amount },\n  } = evt.target;\n  console.log(delay.value, step.value, amount.value);\n  createPromise()\n    .then(result => console.log(result))\n    .catch(error => console.log(error));\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    delay = form.elements.delay.value;\n    let step = form.elements.step.value;\n    let amount = form.elements.amount.value;\n    position = 0;\n    let delays = delay - step;\n\n    while (position < amount) {\n      const shouldResolve = Math.random() > 0.3;\n      delay = Number(delay);\n      step = Number(step);\n      position = Number(position);\n\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve(`✅ Fulfilled promise ${position} in ${delays}ms`);\n        } else {\n          reject(`❌ Rejected promise ${position} in ${delays}ms`);\n        }\n      }, delays);\n\n      position += 1;\n      delays += step;\n      console.log(delays);\n    }\n  });\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n"],"names":["$ce04d3a99e08e73b$var$form","document","querySelector","addEventListener","evt","preventDefault","_elements","target","elements","delay","step","amount","console","log","value","position","Promise","resolve","reject","delays","shouldResolve","Math","random","Number","setTimeout","concat","$ce04d3a99e08e73b$var$createPromise","then","result","catch","error"],"version":3,"file":"03-promises.72d6258b.js.map"}