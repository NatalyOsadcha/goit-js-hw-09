{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,QAEpCF,EAAKG,iBAAiB,UAEtB,SAAqBC,GACnBA,EAAIC,iBAEJ,MACEC,UAAUC,MAAEA,EAAKC,KAAEA,EAAIC,OAAEA,IACvBL,EAAIM,OACRC,QAAQC,IAAIL,EAAMM,MAAOL,EAAKK,MAAOJ,EAAOI,OAM9C,SAAuBC,EAAUP,GAC/B,OAAO,IAAIQ,SAAQ,CAACC,EAASC,KAC3BV,EAAQP,EAAKM,SAASC,MAAMM,MAC5B,IAAIL,EAAOR,EAAKM,SAASE,KAAKK,MAC1BJ,EAAST,EAAKM,SAASG,OAAOI,MAClCC,EAAW,EACX,IAAII,EAASX,EAAQC,EAErB,KAAOM,EAAWL,GAAQ,CACxB,MAAMU,EAAgBC,KAAKC,SAAW,GACtCd,EAAQe,OAAOf,GACfC,EAAOc,OAAOd,GACdM,EAAWQ,OAAOR,GAElBS,YAAW,KACLJ,EACFH,EAAQ,uBAAqBF,QAAiBI,OAE5CD,EAAK,sBAAoBH,QAAiBI,MAAW,GAExDA,GAEHJ,GAAY,EACZI,GAAUV,EACVG,QAAQC,IAAIM,E,KA7BhBM,GACGC,MAAKC,GAAUf,QAAQC,IAAIc,KAC3BC,OAAMC,GAASjB,QAAQC,IAAIgB,I","sources":["src/js/03-promises.js"],"sourcesContent":["const form = document.querySelector('form');\n\nform.addEventListener('submit', handleInput);\n\nfunction handleInput(evt) {\n  evt.preventDefault();\n\n  const {\n    elements: { delay, step, amount },\n  } = evt.target;\n  console.log(delay.value, step.value, amount.value);\n  createPromise()\n    .then(result => console.log(result))\n    .catch(error => console.log(error));\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    delay = form.elements.delay.value;\n    let step = form.elements.step.value;\n    let amount = form.elements.amount.value;\n    position = 0;\n    let delays = delay - step;\n\n    while (position < amount) {\n      const shouldResolve = Math.random() > 0.3;\n      delay = Number(delay);\n      step = Number(step);\n      position = Number(position);\n\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve(`✅ Fulfilled promise ${position} in ${delays}ms`);\n        } else {\n          reject(`❌ Rejected promise ${position} in ${delays}ms`);\n        }\n      }, delays);\n\n      position += 1;\n      delays += step;\n      console.log(delays);\n    }\n  });\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n"],"names":["$47d4ff9957288465$var$form","document","querySelector","addEventListener","evt","preventDefault","elements","delay","step","amount","target","console","log","value","position","Promise","resolve","reject","delays","shouldResolve","Math","random","Number","setTimeout","$47d4ff9957288465$var$createPromise","then","result","catch","error"],"version":3,"file":"03-promises.ea5365a6.js.map"}